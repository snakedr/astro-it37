---
// src/components/MetrologyBlock.astro
// Компонент для блока метрологии с главной страницы
---

<section id="metrology" class="metrology-block">
    <div class="container metrology-content">
        <div class="metrology-text">
            <h2>Метрологические Услуги</h2>
            <div class="ai-badge">Аккредитованный партнер</div>
            <p style="margin: 20px 0; color: var(--text-gray);">
                Обеспечение юридической чистоты и точности измерений. Поверка и калибровка всех типов промышленных приборов учета.
            </p>
            <ul style="color:var(--text-gray); font-size:14px; line-height:2; list-style:none;">
                <li>✓ <strong>Поверка</strong> без демонтажа (для ряда приборов)</li>
                <li>✓ Выгрузка данных в <strong>ФГИС «АРШИН»</strong></li>
                <li>✓ Поверка расходомеров, тепловычислителей, датчиков</li>
            </ul>
            <a href="/metrologia" class="btn primary" style="margin-top: 20px;">Подробнее о метрологии</a>
        </div>
        
        <div class="metrology-viz">
            <div class="verified-circle">
                <div class="scanner-ray"></div> 
                
                <div class="verified-text">VERIFIED</div>
            </div>
        </div>
    </div>
</section>

<style>
    /* Стили для структуры */
    .metrology-content {
        display:flex; 
        flex-wrap:wrap; 
        align-items:center; 
        gap:50px;
    }
    .metrology-text {
        flex:1; 
        min-width:300px;
    }
    .metrology-viz {
        flex:1; 
        display:flex; 
        justify-content:center;
    }
    .ai-badge {
        display: inline-block;
        font-size: 10px;
        color: var(--accent);
        border: 1px solid var(--accent);
        padding: 4px 8px;
        letter-spacing: 1px;
        margin-top: -10px;
    }


    /* Стили для ВИЗУАЛИЗАЦИИ */
    .verified-circle {
        width: 250px; 
        height: 250px; 
        border: 1px dashed var(--accent); 
        border-radius: 50%; 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        position: relative;
        overflow: hidden; /* Важно, чтобы луч не выходил за круг */
    }
    .verified-text {
        font-family: 'Orbitron', sans-serif; 
        font-size: 20px; 
        color:white;
        z-index: 10;
        letter-spacing: 2px;
    }

    /* ИСПРАВЛЕНИЕ: Стили для вращающегося луча */
    .scanner-ray {
        position: absolute;
        top: 0;
        left: 50%; /* Центруем по горизонтали */
        transform-origin: 0% 50%; /* Точка вращения: центр круга */
        
        /* Размеры луча */
        width: 150%; /* Должен быть шире круга, чтобы полностью его перекрыть */
        height: 2px; 
        background: linear-gradient(90deg, transparent, var(--accent) 50%, transparent); /* Эффект градиентного луча */
        opacity: 0.6;
        box-shadow: 0 0 15px var(--accent);

        /* Анимация */
        animation: scan 4s linear infinite;
        z-index: 5;
    }

    /* Анимация для вращения */
    @keyframes scan {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
</style>