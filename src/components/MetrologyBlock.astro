---
// src/components/MetrologyBlock.astro
// Компонент для блока метрологии с главной страницы
---

<section id="metrology" class="metrology-block">
    <div class="container metrology-content">
        <div class="metrology-text">
            <h2>Метрологические Услуги</h2>
            <div class="ai-badge">Аккредитованный партнер</div>
            <p style="margin: 20px 0; color: var(--text-gray);">
                Обеспечение юридической чистоты и точности измерений. Поверка и калибровка всех типов промышленных приборов учета.
            </p>
            <ul style="color:var(--text-gray); font-size:14px; line-height:2; list-style:none;">
                <li>✓ <strong>Поверка</strong> без демонтажа (для ряда приборов)</li>
                <li>✓ Выгрузка данных в <strong>ФГИС «АРШИН»</strong></li>
                <li>✓ Поверка расходомеров, тепловычислителей, датчиков</li>
            </ul>
            <a href="/metrologia" class="btn primary" style="margin-top: 20px;">Подробнее о метрологии</a>
        </div>
        
        <div class="metrology-viz">
            <div class="verified-circle">
                <div class="scanner-ray"></div> 
                
                <div class="verified-text">VERIFIED</div>
            </div>
        </div>
    </div>
</section>

<style>
    /* Стили для структуры */
    .metrology-content {
        display:flex; 
        flex-wrap:wrap; 
        align-items:center; 
        gap:50px;
    }
    .metrology-text {
        flex:1; 
        min-width:300px;
    }
    .metrology-viz {
        flex:1; 
        display:flex; 
        justify-content:center;
    }
    .ai-badge {
        display: inline-block;
        font-size: 10px;
        color: var(--accent);
        border: 1px solid var(--accent);
        padding: 4px 8px;
        letter-spacing: 1px;
        margin-top: -10px;
    }

    /* Стили для ВИЗУАЛИЗАЦИИ */
    .verified-circle {
        width: 250px; 
        height: 250px; 
        border: 1px dashed var(--accent); 
        border-radius: 50%; 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        position: relative;
        overflow: hidden; 
    }
    .verified-text {
        font-family: 'Orbitron', sans-serif; 
        font-size: 20px; 
        color:white;
        z-index: 10;
        letter-spacing: 2px;
    }

    /* ИСПРАВЛЕННЫЕ СТИЛИ для вращающегося луча */
    .scanner-ray {
        position: absolute;
        bottom: 50%; 
        left: 50%; 
        transform-origin: 50% 100%; 
        
        width: 3px; 
        height: 125px; 
        
        background: linear-gradient(0deg, rgba(0, 242, 255, 0.1) 0%, var(--accent) 80%, rgba(0, 242, 255, 0.2) 100%);
        box-shadow: 0 0 8px var(--accent);
        
        /* ИСПОЛЬЗУЕМ НОВОЕ ИМЯ АНИМАЦИИ */
        animation: circleRotate 4s linear infinite; 
        z-index: 5;
    }

    /* АНИМАЦИЯ: Новое имя для вращения */
    @keyframes circleRotate {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    
    @media (max-width: 900px) {
        .metrology-content { flex-direction: column; }
        .metrology-viz { margin-top: 30px; }
    }
</style>